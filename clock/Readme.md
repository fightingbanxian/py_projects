# 万年历的实现

**基于Qt和Python实现的可修改系统时间的万年历时钟**

## 一、实验的目的和要求

1. 显示当前时间，包括：
   1. 第一行显示   xx年xx月xx日
   2. 第二行显示   小时：分：秒
   3. 第三行显示   今年否是闰年和天干地支记年
   4. 支持设置时间，包括年、月和日，时、分和秒

2. 同时图形画出钟表，要求时间与数字时钟同步，当调整时也同步。

3. 显示当前的年属相：从鼠到猪是哪个。

## 二、实验过程

1. 小组分工

| 姓名                | 主要任务（主要负责方面，各任务间有配合穿插）                 | 贡献度 |
| ------------------- | ------------------------------------------------------------ | ------ |
| 杨沛然              | 统筹规划各部分分工，技术担当，技术指导，修改系统时间的设计实现 | 28%    |
| 王江                | GUI界面设计，两人协作配合                                    | 12%    |
| 韩放                | GUI界面设计，两人协作配合                                    | 12%    |
| 李雨龙              | 代码设计，普通时间日期的显示，两人协作配合                   | 12%    |
| 钟星宇              | 代码设计，普通时间日期的显示，两人协作配合                   | 12%    |
| 朱文武              | 算法设计，公历农历的转换，闰年的判断，两人协作配合           | 12%    |
| 沙力塔那提·奥吾列汗 | 算法设计，公历农历的转换，闰年的判断，两人协作配合           | 12%    |

2. 程序设计截图

   ![](.\image\clockdesign.png)

## 三、实验结果

所有要求及目的均已实现

增设程序与系统时间的同步修改（需通过UVA提权）

UVA提权申请界面

![](.\image\211.png)

![](.\image\212.png)

程序运行界面

![](.\image\221.png)

调整后时间界面，请注意系统时间的变化

![](.\image\222.png)

如不同意UVA提权，则无法进行调整和校准的操作

![](.\image\223.png)

## 四、遇到的问题及解决办法

1. 无法进行UVA自动提权，必须在开启程序时选择以管理员身份运行

   解决方案：百度到解决方案，链接[https://stackoverflow.com/questions/130763/request-uac-elevation-from-within-a-python-script]

## 五、程序的不足之处

1. 界面过于单调，没有找到到好的解决办法